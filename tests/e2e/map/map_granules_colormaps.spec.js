import { test, expect } from 'playwright-test-coverage'
import { isGetCollectionQuery } from '../../support/isGetCollectionQuery'
import {
  interceptUnauthenticatedCollections
} from '../../support/interceptUnauthenticatedCollections'
import { setupTests } from '../../support/setupTests'

import colormapCollectionGraphQlHeaders from './__mocks__/colormaps/graphql.headers.json'
import colormapCollectionOneGraphQlBody from './__mocks__/colormaps/collection_graphql_1.body.json'
import colormapCollectionsBody from './__mocks__/colormaps/collections.body.json'
import colormapCollectionTwoGraphQlBody from './__mocks__/colormaps/collection_graphql_2.body.json'
import colormapGranulesHeaders from './__mocks__/colormaps/granules.headers.json'
import colormapGranulesOneBody from './__mocks__/colormaps/granules_1.body.json'
import colormapGranulesTwoBody from './__mocks__/colormaps/granules_2.body.json'
import seaSurfaceTemperatureColormapBody from './__mocks__/colormaps/seaSurfaceTemperatureColormapBody.json'
import seaSurfaceTemperatureAnomaliesColormapBody from './__mocks__/colormaps/seaSurfaceTemperatureAnomaliesColormapBody.json'
import seaIceConcentrationColormapBody from './__mocks__/colormaps/seaIceConcentrationColormapBody.json'

import airsPrataSo2IndexDayColormapBody from './__mocks__/colormaps/airsPrataS02IndexDay.body.json'
import airsPrataSo2IndexNightColormapBody from './__mocks__/colormaps/airsPrataS02IndexNight.body.json'
import commonHeaders from './__mocks__/common_collections.headers.json'

test.describe('Map: Colormap interactions', () => {
  test.beforeEach(async ({ page, context }) => {
    await setupTests({
      context,
      page
    })

    await page.route('**/search/granules/timeline', (route) => {
      route.fulfill({
        body: JSON.stringify([])
      })
    })
  })

  // const colormapMock = {
  //   data: {
  //     colormaps: [
  //       {
  //         id: 624,
  //         product: 'VIIRS_SNPP_L2_Sea_Surface_Temp_Day',
  //         url: 'https://gibs.earthdata.nasa.gov/colormaps/v1.3/VIIRS_Sea_Surface_Temperature.xml',
  //         jsonData: {
  //           id: 'VIIRS_SNPP_L2_Sea_Surface_Temp_Day',
  //           scale: {
  //             colors: [
  //               '#2b001a',
  //               '#2d001c',
  //               '#30001f',
  //               '#330022',
  //               '#350024',
  //               '#380027',
  //               '#3b002b',
  //               '#3f012e',
  //               '#420132',
  //               '#450135',
  //               '#480139',
  //               '#4b023d',
  //               '#4e0241',
  //               '#510245',
  //               '#550249',
  //               '#58024d',
  //               '#5b0351',
  //               '#5f0355',
  //               '#620359',
  //               '#65035d',
  //               '#690461',
  //               '#6c0466',
  //               '#70056a',
  //               '#73056e',
  //               '#760671',
  //               '#780673',
  //               '#790675',
  //               '#7a0677',
  //               '#790677',
  //               '#780777',
  //               '#750775',
  //               '#720774',
  //               '#6f0772',
  //               '#6b0870',
  //               '#67086e',
  //               '#62086c',
  //               '#5e0869',
  //               '#5a0967',
  //               '#560965',
  //               '#510963',
  //               '#4d0961',
  //               '#490a5e',
  //               '#450a5c',
  //               '#410a5a',
  //               '#3d0a58',
  //               '#390a56',
  //               '#350b54',
  //               '#300b51',
  //               '#2c0b4f',
  //               '#280b4d',
  //               '#250c4c',
  //               '#220d4b',
  //               '#200e4b',
  //               '#1e104d',
  //               '#1e124e',
  //               '#1e1451',
  //               '#1e1654',
  //               '#1e1857',
  //               '#1e1a5a',
  //               '#1f1c5d',
  //               '#1e1e60',
  //               '#1e2163',
  //               '#1f2366',
  //               '#1f2569',
  //               '#1f276c',
  //               '#1f2a70',
  //               '#1f2c73',
  //               '#1f2e76',
  //               '#1f3079',
  //               '#1f327c',
  //               '#1f357f',
  //               '#1f3782',
  //               '#203985',
  //               '#203b88',
  //               '#203d8b',
  //               '#20408e',
  //               '#204291',
  //               '#204494',
  //               '#204697',
  //               '#21499b',
  //               '#214b9e',
  //               '#214ea1',
  //               '#2151a4',
  //               '#2254a7',
  //               '#2257aa',
  //               '#235aad',
  //               '#235db0',
  //               '#2460b3',
  //               '#2464b6',
  //               '#2567b9',
  //               '#256abb',
  //               '#266ebe',
  //               '#2671c2',
  //               '#2775c5',
  //               '#2878c8',
  //               '#287bcb',
  //               '#297fce',
  //               '#2982d1',
  //               '#2a85d4',
  //               '#2a88d7',
  //               '#2a8bda',
  //               '#2b8edd',
  //               '#2b92e0',
  //               '#2c95e3',
  //               '#2c98e6',
  //               '#2d9ce9',
  //               '#2e9fec',
  //               '#2ea3ef',
  //               '#2fa6f2',
  //               '#30aaf5',
  //               '#30acf4',
  //               '#2fadf0',
  //               '#2eaee8',
  //               '#2daede',
  //               '#2badd0',
  //               '#29abbf',
  //               '#27a8ab',
  //               '#25a698',
  //               '#23a485',
  //               '#20a371',
  //               '#1ea35d',
  //               '#1ba548',
  //               '#19a735',
  //               '#1aaa25',
  //               '#1caf17',
  //               '#20b30d',
  //               '#26b706',
  //               '#2dbb01',
  //               '#37be00',
  //               '#42c200',
  //               '#4cc500',
  //               '#57c900',
  //               '#62cc00',
  //               '#6dcf00',
  //               '#78d300',
  //               '#83d700',
  //               '#8eda00',
  //               '#99de00',
  //               '#a5e100',
  //               '#b0e500',
  //               '#bbe800',
  //               '#c5ec00',
  //               '#d0ef00',
  //               '#dbf300',
  //               '#e5f600',
  //               '#edf700',
  //               '#f3f700',
  //               '#f8f500',
  //               '#fcf300',
  //               '#feef00',
  //               '#ffea00',
  //               '#ffe400',
  //               '#ffdf00',
  //               '#ffd900',
  //               '#ffd400',
  //               '#ffce00',
  //               '#ffc900',
  //               '#ffc400',
  //               '#ffbf00',
  //               '#ffb900',
  //               '#ffb400',
  //               '#ffaf00',
  //               '#ffaa00',
  //               '#ffa400',
  //               '#ff9f00',
  //               '#ff9900',
  //               '#ff9400',
  //               '#ff8e00',
  //               '#ff8900',
  //               '#ff8300',
  //               '#fe7e00',
  //               '#fd7a00',
  //               '#fc7500',
  //               '#fb7100',
  //               '#fa6d00',
  //               '#f86a00',
  //               '#f66600',
  //               '#f46200',
  //               '#f25f00',
  //               '#f05b00',
  //               '#ee5700',
  //               '#ec5300',
  //               '#ea5000',
  //               '#e84c00',
  //               '#e64900',
  //               '#e44500',
  //               '#e24200',
  //               '#e03e00',
  //               '#de3b00',
  //               '#dc3700',
  //               '#da3300',
  //               '#d83000',
  //               '#d52d00',
  //               '#d22a00',
  //               '#ce2700',
  //               '#ca2500',
  //               '#c52200',
  //               '#c02000',
  //               '#bb1f00',
  //               '#b51d00',
  //               '#b01b00',
  //               '#ab1900',
  //               '#a61700',
  //               '#a11500',
  //               '#9c1400',
  //               '#971200',
  //               '#911000',
  //               '#8c0e00',
  //               '#870c00',
  //               '#820a00',
  //               '#7c0800',
  //               '#780700',
  //               '#730500',
  //               '#6e0300',
  //               '#6b0200'
  //             ],
  //             labels: [
  //               '< 0.00 °C',
  //               '0.00 – 0.15 °C',
  //               '0.15 – 0.30 °C',
  //               '0.30 – 0.45 °C',
  //               '0.45 – 0.60 °C',
  //               '0.60 – 0.75 °C',
  //               '0.75 – 0.90 °C',
  //               '0.90 – 1.05 °C',
  //               '1.05 – 1.20 °C',
  //               '1.20 – 1.35 °C',
  //               '1.35 – 1.50 °C',
  //               '1.50 – 1.65 °C',
  //               '1.65 – 1.80 °C',
  //               '1.80 – 1.95 °C',
  //               '1.95 – 2.10 °C',
  //               '2.10 – 2.25 °C',
  //               '2.25 – 2.40 °C',
  //               '2.40 – 2.55 °C',
  //               '2.55 – 2.70 °C',
  //               '2.70 – 2.85 °C',
  //               '2.85 – 3.00 °C',
  //               '3.00 – 3.15 °C',
  //               '3.15 – 3.30 °C',
  //               '3.30 – 3.45 °C',
  //               '3.45 – 3.60 °C',
  //               '3.60 – 3.75 °C',
  //               '3.75 – 3.90 °C',
  //               '3.90 – 4.05 °C',
  //               '4.05 – 4.20 °C',
  //               '4.20 – 4.35 °C',
  //               '4.35 – 4.50 °C',
  //               '4.50 – 4.65 °C',
  //               '4.65 – 4.80 °C',
  //               '4.80 – 4.95 °C',
  //               '4.95 – 5.10 °C',
  //               '5.10 – 5.25 °C',
  //               '5.25 – 5.40 °C',
  //               '5.40 – 5.55 °C',
  //               '5.55 – 5.70 °C',
  //               '5.70 – 5.85 °C',
  //               '5.85 – 6.00 °C',
  //               '6.00 – 6.15 °C',
  //               '6.15 – 6.30 °C',
  //               '6.30 – 6.45 °C',
  //               '6.45 – 6.60 °C',
  //               '6.60 – 6.75 °C',
  //               '6.75 – 6.90 °C',
  //               '6.90 – 7.05 °C',
  //               '7.05 – 7.20 °C',
  //               '7.20 – 7.35 °C',
  //               '7.35 – 7.50 °C',
  //               '7.50 – 7.65 °C',
  //               '7.65 – 7.80 °C',
  //               '7.80 – 7.95 °C',
  //               '7.95 – 8.10 °C',
  //               '8.10 – 8.25 °C',
  //               '8.25 – 8.40 °C',
  //               '8.40 – 8.55 °C',
  //               '8.55 – 8.70 °C',
  //               '8.70 – 8.85 °C',
  //               '8.85 – 9.00 °C',
  //               '9.00 – 9.15 °C',
  //               '9.15 – 9.30 °C',
  //               '9.30 – 9.45 °C',
  //               '9.45 – 9.60 °C',
  //               '9.60 – 9.75 °C',
  //               '9.75 – 9.90 °C',
  //               '9.90 – 10.05 °C',
  //               '10.05 – 10.20 °C',
  //               '10.20 – 10.35 °C',
  //               '10.35 – 10.50 °C',
  //               '10.50 – 10.65 °C',
  //               '10.65 – 10.80 °C',
  //               '10.80 – 10.95 °C',
  //               '10.95 – 11.10 °C',
  //               '11.10 – 11.25 °C',
  //               '11.25 – 11.40 °C',
  //               '11.40 – 11.55 °C',
  //               '11.55 – 11.70 °C',
  //               '11.70 – 11.85 °C',
  //               '11.85 – 12.00 °C',
  //               '12.00 – 12.15 °C',
  //               '12.15 – 12.30 °C',
  //               '12.30 – 12.45 °C',
  //               '12.45 – 12.60 °C',
  //               '12.60 – 12.75 °C',
  //               '12.75 – 12.90 °C',
  //               '12.90 – 13.05 °C',
  //               '13.05 – 13.20 °C',
  //               '13.20 – 13.35 °C',
  //               '13.35 – 13.50 °C',
  //               '13.50 – 13.65 °C',
  //               '13.65 – 13.80 °C',
  //               '13.80 – 13.95 °C',
  //               '13.95 – 14.10 °C',
  //               '14.10 – 14.25 °C',
  //               '14.25 – 14.40 °C',
  //               '14.40 – 14.55 °C',
  //               '14.55 – 14.70 °C',
  //               '14.70 – 14.85 °C',
  //               '14.85 – 15.00 °C',
  //               '15.00 – 15.15 °C',
  //               '15.15 – 15.30 °C',
  //               '15.30 – 15.45 °C',
  //               '15.45 – 15.60 °C',
  //               '15.60 – 15.75 °C',
  //               '15.75 – 15.90 °C',
  //               '15.90 – 16.05 °C',
  //               '16.05 – 16.20 °C',
  //               '16.20 – 16.35 °C',
  //               '16.35 – 16.50 °C',
  //               '16.50 – 16.65 °C',
  //               '16.65 – 16.80 °C',
  //               '16.80 – 16.95 °C',
  //               '16.95 – 17.10 °C',
  //               '17.10 – 17.25 °C',
  //               '17.25 – 17.40 °C',
  //               '17.40 – 17.55 °C',
  //               '17.55 – 17.70 °C',
  //               '17.70 – 17.85 °C',
  //               '17.85 – 18.00 °C',
  //               '18.00 – 18.15 °C',
  //               '18.15 – 18.30 °C',
  //               '18.30 – 18.45 °C',
  //               '18.45 – 18.60 °C',
  //               '18.60 – 18.75 °C',
  //               '18.75 – 18.90 °C',
  //               '18.90 – 19.05 °C',
  //               '19.05 – 19.20 °C',
  //               '19.20 – 19.35 °C',
  //               '19.35 – 19.50 °C',
  //               '19.50 – 19.65 °C',
  //               '19.65 – 19.80 °C',
  //               '19.80 – 19.95 °C',
  //               '19.95 – 20.10 °C',
  //               '20.10 – 20.25 °C',
  //               '20.25 – 20.40 °C',
  //               '20.40 – 20.55 °C',
  //               '20.55 – 20.70 °C',
  //               '20.70 – 20.85 °C',
  //               '20.85 – 21.00 °C',
  //               '21.00 – 21.15 °C',
  //               '21.15 – 21.30 °C',
  //               '21.30 – 21.45 °C',
  //               '21.45 – 21.60 °C',
  //               '21.60 – 21.75 °C',
  //               '21.75 – 21.90 °C',
  //               '21.90 – 22.05 °C',
  //               '22.05 – 22.20 °C',
  //               '22.20 – 22.35 °C',
  //               '22.35 – 22.50 °C',
  //               '22.50 – 22.65 °C',
  //               '22.65 – 22.80 °C',
  //               '22.80 – 22.95 °C',
  //               '22.95 – 23.10 °C',
  //               '23.10 – 23.25 °C',
  //               '23.25 – 23.40 °C',
  //               '23.40 – 23.55 °C',
  //               '23.55 – 23.70 °C',
  //               '23.70 – 23.85 °C',
  //               '23.85 – 24.00 °C',
  //               '24.00 – 24.15 °C',
  //               '24.15 – 24.30 °C',
  //               '24.30 – 24.45 °C',
  //               '24.45 – 24.60 °C',
  //               '24.60 – 24.75 °C',
  //               '24.75 – 24.90 °C',
  //               '24.90 – 25.05 °C',
  //               '25.05 – 25.20 °C',
  //               '25.20 – 25.35 °C',
  //               '25.35 – 25.50 °C',
  //               '25.50 – 25.65 °C',
  //               '25.65 – 25.80 °C',
  //               '25.80 – 25.95 °C',
  //               '25.95 – 26.10 °C',
  //               '26.10 – 26.25 °C',
  //               '26.25 – 26.40 °C',
  //               '26.40 – 26.55 °C',
  //               '26.55 – 26.70 °C',
  //               '26.70 – 26.85 °C',
  //               '26.85 – 27.00 °C',
  //               '27.00 – 27.15 °C',
  //               '27.15 – 27.30 °C',
  //               '27.30 – 27.45 °C',
  //               '27.45 – 27.60 °C',
  //               '27.60 – 27.75 °C',
  //               '27.75 – 27.90 °C',
  //               '27.90 – 28.05 °C',
  //               '28.05 – 28.20 °C',
  //               '28.20 – 28.35 °C',
  //               '28.35 – 28.50 °C',
  //               '28.50 – 28.65 °C',
  //               '28.65 – 28.80 °C',
  //               '28.80 – 28.95 °C',
  //               '28.95 – 29.10 °C',
  //               '29.10 – 29.25 °C',
  //               '29.25 – 29.40 °C',
  //               '29.40 – 29.55 °C',
  //               '29.55 – 29.70 °C',
  //               '29.70 – 29.85 °C',
  //               '29.85 – 30.00 °C',
  //               '30.00 – 30.15 °C',
  //               '30.15 – 30.30 °C',
  //               '30.30 – 30.45 °C',
  //               '30.45 – 30.60 °C',
  //               '30.60 – 30.75 °C',
  //               '30.75 – 30.90 °C',
  //               '30.90 – 31.05 °C',
  //               '31.05 – 31.20 °C',
  //               '31.20 – 31.35 °C',
  //               '31.35 – 31.50 °C',
  //               '31.50 – 31.65 °C',
  //               '31.65 – 31.80 °C',
  //               '31.80 – 32.00 °C',
  //               '&#8805; 32.00 °C'
  //             ],
  //             values: [
  //               5e-324,
  //               0,
  //               0,
  //               0.15,
  //               0.15,
  //               0.3,
  //               0.3,
  //               0.45,
  //               0.45,
  //               0.6,
  //               0.6,
  //               0.75,
  //               0.75,
  //               0.9,
  //               0.9,
  //               1.05,
  //               1.05,
  //               1.2,
  //               1.2,
  //               1.35,
  //               1.35,
  //               1.5,
  //               1.5,
  //               1.65,
  //               1.65,
  //               1.8,
  //               1.8,
  //               1.95,
  //               1.95,
  //               2.1,
  //               2.1,
  //               2.25,
  //               2.25,
  //               2.4,
  //               2.4,
  //               2.55,
  //               2.55,
  //               2.7,
  //               2.7,
  //               2.85,
  //               2.85,
  //               3,
  //               3,
  //               3.15,
  //               3.15,
  //               3.3,
  //               3.3,
  //               3.45,
  //               3.45,
  //               3.6,
  //               3.6,
  //               3.75,
  //               3.75,
  //               3.9,
  //               3.9,
  //               4.05,
  //               4.05,
  //               4.2,
  //               4.2,
  //               4.35,
  //               4.35,
  //               4.5,
  //               4.5,
  //               4.65,
  //               4.65,
  //               4.8,
  //               4.8,
  //               4.95,
  //               4.95,
  //               5.1,
  //               5.1,
  //               5.25,
  //               5.25,
  //               5.4,
  //               5.4,
  //               5.55,
  //               5.55,
  //               5.7,
  //               5.7,
  //               5.85,
  //               5.85,
  //               6,
  //               6,
  //               6.15,
  //               6.15,
  //               6.3,
  //               6.3,
  //               6.45,
  //               6.45,
  //               6.6,
  //               6.6,
  //               6.75,
  //               6.75,
  //               6.9,
  //               6.9,
  //               7.05,
  //               7.05,
  //               7.2,
  //               7.2,
  //               7.35,
  //               7.35,
  //               7.5,
  //               7.5,
  //               7.65,
  //               7.65,
  //               7.8,
  //               7.8,
  //               7.95,
  //               7.95,
  //               8.1,
  //               8.1,
  //               8.25,
  //               8.25,
  //               8.4,
  //               8.4,
  //               8.55,
  //               8.55,
  //               8.7,
  //               8.7,
  //               8.85,
  //               8.85,
  //               9,
  //               9,
  //               9.15,
  //               9.15,
  //               9.3,
  //               9.3,
  //               9.45,
  //               9.45,
  //               9.6,
  //               9.6,
  //               9.75,
  //               9.75,
  //               9.9,
  //               9.9,
  //               10.05,
  //               10.05,
  //               10.2,
  //               10.2,
  //               10.35,
  //               10.35,
  //               10.5,
  //               10.5,
  //               10.65,
  //               10.65,
  //               10.8,
  //               10.8,
  //               10.95,
  //               10.95,
  //               11.1,
  //               11.1,
  //               11.25,
  //               11.25,
  //               11.4,
  //               11.4,
  //               11.55,
  //               11.55,
  //               11.7,
  //               11.7,
  //               11.85,
  //               11.85,
  //               12,
  //               12,
  //               12.15,
  //               12.15,
  //               12.3,
  //               12.3,
  //               12.45,
  //               12.45,
  //               12.6,
  //               12.6,
  //               12.75,
  //               12.75,
  //               12.9,
  //               12.9,
  //               13.05,
  //               13.05,
  //               13.2,
  //               13.2,
  //               13.35,
  //               13.35,
  //               13.5,
  //               13.5,
  //               13.65,
  //               13.65,
  //               13.8,
  //               13.8,
  //               13.95,
  //               13.95,
  //               14.1,
  //               14.1,
  //               14.25,
  //               14.25,
  //               14.4,
  //               14.4,
  //               14.55,
  //               14.55,
  //               14.7,
  //               14.7,
  //               14.85,
  //               14.85,
  //               15,
  //               15,
  //               15.15,
  //               15.15,
  //               15.3,
  //               15.3,
  //               15.45,
  //               15.45,
  //               15.6,
  //               15.6,
  //               15.75,
  //               15.75,
  //               15.9,
  //               15.9,
  //               16.05,
  //               16.05,
  //               16.2,
  //               16.2,
  //               16.35,
  //               16.35,
  //               16.5,
  //               16.5,
  //               16.65,
  //               16.65,
  //               16.8,
  //               16.8,
  //               16.95,
  //               16.95,
  //               17.1,
  //               17.1,
  //               17.25,
  //               17.25,
  //               17.4,
  //               17.4,
  //               17.55,
  //               17.55,
  //               17.7,
  //               17.7,
  //               17.85,
  //               17.85,
  //               18,
  //               18,
  //               18.15,
  //               18.15,
  //               18.3,
  //               18.3,
  //               18.45,
  //               18.45,
  //               18.6,
  //               18.6,
  //               18.75,
  //               18.75,
  //               18.9,
  //               18.9,
  //               19.05,
  //               19.05,
  //               19.2,
  //               19.2,
  //               19.35,
  //               19.35,
  //               19.5,
  //               19.5,
  //               19.65,
  //               19.65,
  //               19.8,
  //               19.8,
  //               19.95,
  //               19.95,
  //               20.1,
  //               20.1,
  //               20.25,
  //               20.25,
  //               20.4,
  //               20.4,
  //               20.55,
  //               20.55,
  //               20.7,
  //               20.7,
  //               20.85,
  //               20.85,
  //               21,
  //               21,
  //               21.15,
  //               21.15,
  //               21.3,
  //               21.3,
  //               21.45,
  //               21.45,
  //               21.6,
  //               21.6,
  //               21.75,
  //               21.75,
  //               21.9,
  //               21.9,
  //               22.05,
  //               22.05,
  //               22.2,
  //               22.2,
  //               22.35,
  //               22.35,
  //               22.5,
  //               22.5,
  //               22.65,
  //               22.65,
  //               22.8,
  //               22.8,
  //               22.95,
  //               22.95,
  //               23.1,
  //               23.1,
  //               23.25,
  //               23.25,
  //               23.4,
  //               23.4,
  //               23.55,
  //               23.55,
  //               23.7,
  //               23.7,
  //               23.85,
  //               23.85,
  //               24,
  //               24,
  //               24.15,
  //               24.15,
  //               24.3,
  //               24.3,
  //               24.45,
  //               24.45,
  //               24.6,
  //               24.6,
  //               24.75,
  //               24.75,
  //               24.9,
  //               24.9,
  //               25.05,
  //               25.05,
  //               25.2,
  //               25.2,
  //               25.35,
  //               25.35,
  //               25.5,
  //               25.5,
  //               25.65,
  //               25.65,
  //               25.8,
  //               25.8,
  //               25.95,
  //               25.95,
  //               26.1,
  //               26.1,
  //               26.25,
  //               26.25,
  //               26.4,
  //               26.4,
  //               26.55,
  //               26.55,
  //               26.7,
  //               26.7,
  //               26.85,
  //               26.85,
  //               27,
  //               27,
  //               27.15,
  //               27.15,
  //               27.3,
  //               27.3,
  //               27.45,
  //               27.45,
  //               27.6,
  //               27.6,
  //               27.75,
  //               27.75,
  //               27.9,
  //               27.9,
  //               28.05,
  //               28.05,
  //               28.2,
  //               28.2,
  //               28.35,
  //               28.35,
  //               28.5,
  //               28.5,
  //               28.65,
  //               28.65,
  //               28.8,
  //               28.8,
  //               28.95,
  //               28.95,
  //               29.1,
  //               29.1,
  //               29.25,
  //               29.25,
  //               29.4,
  //               29.4,
  //               29.55,
  //               29.55,
  //               29.7,
  //               29.7,
  //               29.85,
  //               29.85,
  //               30,
  //               30,
  //               30.15,
  //               30.15,
  //               30.3,
  //               30.3,
  //               30.45,
  //               30.45,
  //               30.6,
  //               30.6,
  //               30.75,
  //               30.75,
  //               30.9,
  //               30.9,
  //               31.05,
  //               31.05,
  //               31.2,
  //               31.2,
  //               31.35,
  //               31.35,
  //               31.5,
  //               31.5,
  //               31.65,
  //               31.65,
  //               31.8,
  //               31.8,
  //               32,
  //               32,
  //               1.7976931348623157e+308
  //             ]
  //           }
  //         },
  //         createdAt: '2025-08-18T16:05:19.291Z',
  //         updatedAt: '2025-08-18T16:05:19.291Z',
  //         __typename: 'ColorMap'
  //       },
  //       {
  //         id: 683,
  //         product: 'VIIRS_SNPP_L2_Sea_Surface_Temp_Night',
  //         url: 'https://gibs.earthdata.nasa.gov/colormaps/v1.3/VIIRS_Sea_Surface_Temperature.xml',
  //         jsonData: {
  //           id: 'VIIRS_SNPP_L2_Sea_Surface_Temp_Night',
  //           scale: {
  //             colors: [
  //               '#2b001a',
  //               '#2d001c',
  //               '#30001f',
  //               '#330022',
  //               '#350024',
  //               '#380027',
  //               '#3b002b',
  //               '#3f012e',
  //               '#420132',
  //               '#450135',
  //               '#480139',
  //               '#4b023d',
  //               '#4e0241',
  //               '#510245',
  //               '#550249',
  //               '#58024d',
  //               '#5b0351',
  //               '#5f0355',
  //               '#620359',
  //               '#65035d',
  //               '#690461',
  //               '#6c0466',
  //               '#70056a',
  //               '#73056e',
  //               '#760671',
  //               '#780673',
  //               '#790675',
  //               '#7a0677',
  //               '#790677',
  //               '#780777',
  //               '#750775',
  //               '#720774',
  //               '#6f0772',
  //               '#6b0870',
  //               '#67086e',
  //               '#62086c',
  //               '#5e0869',
  //               '#5a0967',
  //               '#560965',
  //               '#510963',
  //               '#4d0961',
  //               '#490a5e',
  //               '#450a5c',
  //               '#410a5a',
  //               '#3d0a58',
  //               '#390a56',
  //               '#350b54',
  //               '#300b51',
  //               '#2c0b4f',
  //               '#280b4d',
  //               '#250c4c',
  //               '#220d4b',
  //               '#200e4b',
  //               '#1e104d',
  //               '#1e124e',
  //               '#1e1451',
  //               '#1e1654',
  //               '#1e1857',
  //               '#1e1a5a',
  //               '#1f1c5d',
  //               '#1e1e60',
  //               '#1e2163',
  //               '#1f2366',
  //               '#1f2569',
  //               '#1f276c',
  //               '#1f2a70',
  //               '#1f2c73',
  //               '#1f2e76',
  //               '#1f3079',
  //               '#1f327c',
  //               '#1f357f',
  //               '#1f3782',
  //               '#203985',
  //               '#203b88',
  //               '#203d8b',
  //               '#20408e',
  //               '#204291',
  //               '#204494',
  //               '#204697',
  //               '#21499b',
  //               '#214b9e',
  //               '#214ea1',
  //               '#2151a4',
  //               '#2254a7',
  //               '#2257aa',
  //               '#235aad',
  //               '#235db0',
  //               '#2460b3',
  //               '#2464b6',
  //               '#2567b9',
  //               '#256abb',
  //               '#266ebe',
  //               '#2671c2',
  //               '#2775c5',
  //               '#2878c8',
  //               '#287bcb',
  //               '#297fce',
  //               '#2982d1',
  //               '#2a85d4',
  //               '#2a88d7',
  //               '#2a8bda',
  //               '#2b8edd',
  //               '#2b92e0',
  //               '#2c95e3',
  //               '#2c98e6',
  //               '#2d9ce9',
  //               '#2e9fec',
  //               '#2ea3ef',
  //               '#2fa6f2',
  //               '#30aaf5',
  //               '#30acf4',
  //               '#2fadf0',
  //               '#2eaee8',
  //               '#2daede',
  //               '#2badd0',
  //               '#29abbf',
  //               '#27a8ab',
  //               '#25a698',
  //               '#23a485',
  //               '#20a371',
  //               '#1ea35d',
  //               '#1ba548',
  //               '#19a735',
  //               '#1aaa25',
  //               '#1caf17',
  //               '#20b30d',
  //               '#26b706',
  //               '#2dbb01',
  //               '#37be00',
  //               '#42c200',
  //               '#4cc500',
  //               '#57c900',
  //               '#62cc00',
  //               '#6dcf00',
  //               '#78d300',
  //               '#83d700',
  //               '#8eda00',
  //               '#99de00',
  //               '#a5e100',
  //               '#b0e500',
  //               '#bbe800',
  //               '#c5ec00',
  //               '#d0ef00',
  //               '#dbf300',
  //               '#e5f600',
  //               '#edf700',
  //               '#f3f700',
  //               '#f8f500',
  //               '#fcf300',
  //               '#feef00',
  //               '#ffea00',
  //               '#ffe400',
  //               '#ffdf00',
  //               '#ffd900',
  //               '#ffd400',
  //               '#ffce00',
  //               '#ffc900',
  //               '#ffc400',
  //               '#ffbf00',
  //               '#ffb900',
  //               '#ffb400',
  //               '#ffaf00',
  //               '#ffaa00',
  //               '#ffa400',
  //               '#ff9f00',
  //               '#ff9900',
  //               '#ff9400',
  //               '#ff8e00',
  //               '#ff8900',
  //               '#ff8300',
  //               '#fe7e00',
  //               '#fd7a00',
  //               '#fc7500',
  //               '#fb7100',
  //               '#fa6d00',
  //               '#f86a00',
  //               '#f66600',
  //               '#f46200',
  //               '#f25f00',
  //               '#f05b00',
  //               '#ee5700',
  //               '#ec5300',
  //               '#ea5000',
  //               '#e84c00',
  //               '#e64900',
  //               '#e44500',
  //               '#e24200',
  //               '#e03e00',
  //               '#de3b00',
  //               '#dc3700',
  //               '#da3300',
  //               '#d83000',
  //               '#d52d00',
  //               '#d22a00',
  //               '#ce2700',
  //               '#ca2500',
  //               '#c52200',
  //               '#c02000',
  //               '#bb1f00',
  //               '#b51d00',
  //               '#b01b00',
  //               '#ab1900',
  //               '#a61700',
  //               '#a11500',
  //               '#9c1400',
  //               '#971200',
  //               '#911000',
  //               '#8c0e00',
  //               '#870c00',
  //               '#820a00',
  //               '#7c0800',
  //               '#780700',
  //               '#730500',
  //               '#6e0300',
  //               '#6b0200'
  //             ],
  //             labels: [
  //               '< 0.00 °C',
  //               '0.00 – 0.15 °C',
  //               '0.15 – 0.30 °C',
  //               '0.30 – 0.45 °C',
  //               '0.45 – 0.60 °C',
  //               '0.60 – 0.75 °C',
  //               '0.75 – 0.90 °C',
  //               '0.90 – 1.05 °C',
  //               '1.05 – 1.20 °C',
  //               '1.20 – 1.35 °C',
  //               '1.35 – 1.50 °C',
  //               '1.50 – 1.65 °C',
  //               '1.65 – 1.80 °C',
  //               '1.80 – 1.95 °C',
  //               '1.95 – 2.10 °C',
  //               '2.10 – 2.25 °C',
  //               '2.25 – 2.40 °C',
  //               '2.40 – 2.55 °C',
  //               '2.55 – 2.70 °C',
  //               '2.70 – 2.85 °C',
  //               '2.85 – 3.00 °C',
  //               '3.00 – 3.15 °C',
  //               '3.15 – 3.30 °C',
  //               '3.30 – 3.45 °C',
  //               '3.45 – 3.60 °C',
  //               '3.60 – 3.75 °C',
  //               '3.75 – 3.90 °C',
  //               '3.90 – 4.05 °C',
  //               '4.05 – 4.20 °C',
  //               '4.20 – 4.35 °C',
  //               '4.35 – 4.50 °C',
  //               '4.50 – 4.65 °C',
  //               '4.65 – 4.80 °C',
  //               '4.80 – 4.95 °C',
  //               '4.95 – 5.10 °C',
  //               '5.10 – 5.25 °C',
  //               '5.25 – 5.40 °C',
  //               '5.40 – 5.55 °C',
  //               '5.55 – 5.70 °C',
  //               '5.70 – 5.85 °C',
  //               '5.85 – 6.00 °C',
  //               '6.00 – 6.15 °C',
  //               '6.15 – 6.30 °C',
  //               '6.30 – 6.45 °C',
  //               '6.45 – 6.60 °C',
  //               '6.60 – 6.75 °C',
  //               '6.75 – 6.90 °C',
  //               '6.90 – 7.05 °C',
  //               '7.05 – 7.20 °C',
  //               '7.20 – 7.35 °C',
  //               '7.35 – 7.50 °C',
  //               '7.50 – 7.65 °C',
  //               '7.65 – 7.80 °C',
  //               '7.80 – 7.95 °C',
  //               '7.95 – 8.10 °C',
  //               '8.10 – 8.25 °C',
  //               '8.25 – 8.40 °C',
  //               '8.40 – 8.55 °C',
  //               '8.55 – 8.70 °C',
  //               '8.70 – 8.85 °C',
  //               '8.85 – 9.00 °C',
  //               '9.00 – 9.15 °C',
  //               '9.15 – 9.30 °C',
  //               '9.30 – 9.45 °C',
  //               '9.45 – 9.60 °C',
  //               '9.60 – 9.75 °C',
  //               '9.75 – 9.90 °C',
  //               '9.90 – 10.05 °C',
  //               '10.05 – 10.20 °C',
  //               '10.20 – 10.35 °C',
  //               '10.35 – 10.50 °C',
  //               '10.50 – 10.65 °C',
  //               '10.65 – 10.80 °C',
  //               '10.80 – 10.95 °C',
  //               '10.95 – 11.10 °C',
  //               '11.10 – 11.25 °C',
  //               '11.25 – 11.40 °C',
  //               '11.40 – 11.55 °C',
  //               '11.55 – 11.70 °C',
  //               '11.70 – 11.85 °C',
  //               '11.85 – 12.00 °C',
  //               '12.00 – 12.15 °C',
  //               '12.15 – 12.30 °C',
  //               '12.30 – 12.45 °C',
  //               '12.45 – 12.60 °C',
  //               '12.60 – 12.75 °C',
  //               '12.75 – 12.90 °C',
  //               '12.90 – 13.05 °C',
  //               '13.05 – 13.20 °C',
  //               '13.20 – 13.35 °C',
  //               '13.35 – 13.50 °C',
  //               '13.50 – 13.65 °C',
  //               '13.65 – 13.80 °C',
  //               '13.80 – 13.95 °C',
  //               '13.95 – 14.10 °C',
  //               '14.10 – 14.25 °C',
  //               '14.25 – 14.40 °C',
  //               '14.40 – 14.55 °C',
  //               '14.55 – 14.70 °C',
  //               '14.70 – 14.85 °C',
  //               '14.85 – 15.00 °C',
  //               '15.00 – 15.15 °C',
  //               '15.15 – 15.30 °C',
  //               '15.30 – 15.45 °C',
  //               '15.45 – 15.60 °C',
  //               '15.60 – 15.75 °C',
  //               '15.75 – 15.90 °C',
  //               '15.90 – 16.05 °C',
  //               '16.05 – 16.20 °C',
  //               '16.20 – 16.35 °C',
  //               '16.35 – 16.50 °C',
  //               '16.50 – 16.65 °C',
  //               '16.65 – 16.80 °C',
  //               '16.80 – 16.95 °C',
  //               '16.95 – 17.10 °C',
  //               '17.10 – 17.25 °C',
  //               '17.25 – 17.40 °C',
  //               '17.40 – 17.55 °C',
  //               '17.55 – 17.70 °C',
  //               '17.70 – 17.85 °C',
  //               '17.85 – 18.00 °C',
  //               '18.00 – 18.15 °C',
  //               '18.15 – 18.30 °C',
  //               '18.30 – 18.45 °C',
  //               '18.45 – 18.60 °C',
  //               '18.60 – 18.75 °C',
  //               '18.75 – 18.90 °C',
  //               '18.90 – 19.05 °C',
  //               '19.05 – 19.20 °C',
  //               '19.20 – 19.35 °C',
  //               '19.35 – 19.50 °C',
  //               '19.50 – 19.65 °C',
  //               '19.65 – 19.80 °C',
  //               '19.80 – 19.95 °C',
  //               '19.95 – 20.10 °C',
  //               '20.10 – 20.25 °C',
  //               '20.25 – 20.40 °C',
  //               '20.40 – 20.55 °C',
  //               '20.55 – 20.70 °C',
  //               '20.70 – 20.85 °C',
  //               '20.85 – 21.00 °C',
  //               '21.00 – 21.15 °C',
  //               '21.15 – 21.30 °C',
  //               '21.30 – 21.45 °C',
  //               '21.45 – 21.60 °C',
  //               '21.60 – 21.75 °C',
  //               '21.75 – 21.90 °C',
  //               '21.90 – 22.05 °C',
  //               '22.05 – 22.20 °C',
  //               '22.20 – 22.35 °C',
  //               '22.35 – 22.50 °C',
  //               '22.50 – 22.65 °C',
  //               '22.65 – 22.80 °C',
  //               '22.80 – 22.95 °C',
  //               '22.95 – 23.10 °C',
  //               '23.10 – 23.25 °C',
  //               '23.25 – 23.40 °C',
  //               '23.40 – 23.55 °C',
  //               '23.55 – 23.70 °C',
  //               '23.70 – 23.85 °C',
  //               '23.85 – 24.00 °C',
  //               '24.00 – 24.15 °C',
  //               '24.15 – 24.30 °C',
  //               '24.30 – 24.45 °C',
  //               '24.45 – 24.60 °C',
  //               '24.60 – 24.75 °C',
  //               '24.75 – 24.90 °C',
  //               '24.90 – 25.05 °C',
  //               '25.05 – 25.20 °C',
  //               '25.20 – 25.35 °C',
  //               '25.35 – 25.50 °C',
  //               '25.50 – 25.65 °C',
  //               '25.65 – 25.80 °C',
  //               '25.80 – 25.95 °C',
  //               '25.95 – 26.10 °C',
  //               '26.10 – 26.25 °C',
  //               '26.25 – 26.40 °C',
  //               '26.40 – 26.55 °C',
  //               '26.55 – 26.70 °C',
  //               '26.70 – 26.85 °C',
  //               '26.85 – 27.00 °C',
  //               '27.00 – 27.15 °C',
  //               '27.15 – 27.30 °C',
  //               '27.30 – 27.45 °C',
  //               '27.45 – 27.60 °C',
  //               '27.60 – 27.75 °C',
  //               '27.75 – 27.90 °C',
  //               '27.90 – 28.05 °C',
  //               '28.05 – 28.20 °C',
  //               '28.20 – 28.35 °C',
  //               '28.35 – 28.50 °C',
  //               '28.50 – 28.65 °C',
  //               '28.65 – 28.80 °C',
  //               '28.80 – 28.95 °C',
  //               '28.95 – 29.10 °C',
  //               '29.10 – 29.25 °C',
  //               '29.25 – 29.40 °C',
  //               '29.40 – 29.55 °C',
  //               '29.55 – 29.70 °C',
  //               '29.70 – 29.85 °C',
  //               '29.85 – 30.00 °C',
  //               '30.00 – 30.15 °C',
  //               '30.15 – 30.30 °C',
  //               '30.30 – 30.45 °C',
  //               '30.45 – 30.60 °C',
  //               '30.60 – 30.75 °C',
  //               '30.75 – 30.90 °C',
  //               '30.90 – 31.05 °C',
  //               '31.05 – 31.20 °C',
  //               '31.20 – 31.35 °C',
  //               '31.35 – 31.50 °C',
  //               '31.50 – 31.65 °C',
  //               '31.65 – 31.80 °C',
  //               '31.80 – 32.00 °C',
  //               '&#8805; 32.00 °C'
  //             ],
  //             values: [
  //               5e-324,
  //               0,
  //               0,
  //               0.15,
  //               0.15,
  //               0.3,
  //               0.3,
  //               0.45,
  //               0.45,
  //               0.6,
  //               0.6,
  //               0.75,
  //               0.75,
  //               0.9,
  //               0.9,
  //               1.05,
  //               1.05,
  //               1.2,
  //               1.2,
  //               1.35,
  //               1.35,
  //               1.5,
  //               1.5,
  //               1.65,
  //               1.65,
  //               1.8,
  //               1.8,
  //               1.95,
  //               1.95,
  //               2.1,
  //               2.1,
  //               2.25,
  //               2.25,
  //               2.4,
  //               2.4,
  //               2.55,
  //               2.55,
  //               2.7,
  //               2.7,
  //               2.85,
  //               2.85,
  //               3,
  //               3,
  //               3.15,
  //               3.15,
  //               3.3,
  //               3.3,
  //               3.45,
  //               3.45,
  //               3.6,
  //               3.6,
  //               3.75,
  //               3.75,
  //               3.9,
  //               3.9,
  //               4.05,
  //               4.05,
  //               4.2,
  //               4.2,
  //               4.35,
  //               4.35,
  //               4.5,
  //               4.5,
  //               4.65,
  //               4.65,
  //               4.8,
  //               4.8,
  //               4.95,
  //               4.95,
  //               5.1,
  //               5.1,
  //               5.25,
  //               5.25,
  //               5.4,
  //               5.4,
  //               5.55,
  //               5.55,
  //               5.7,
  //               5.7,
  //               5.85,
  //               5.85,
  //               6,
  //               6,
  //               6.15,
  //               6.15,
  //               6.3,
  //               6.3,
  //               6.45,
  //               6.45,
  //               6.6,
  //               6.6,
  //               6.75,
  //               6.75,
  //               6.9,
  //               6.9,
  //               7.05,
  //               7.05,
  //               7.2,
  //               7.2,
  //               7.35,
  //               7.35,
  //               7.5,
  //               7.5,
  //               7.65,
  //               7.65,
  //               7.8,
  //               7.8,
  //               7.95,
  //               7.95,
  //               8.1,
  //               8.1,
  //               8.25,
  //               8.25,
  //               8.4,
  //               8.4,
  //               8.55,
  //               8.55,
  //               8.7,
  //               8.7,
  //               8.85,
  //               8.85,
  //               9,
  //               9,
  //               9.15,
  //               9.15,
  //               9.3,
  //               9.3,
  //               9.45,
  //               9.45,
  //               9.6,
  //               9.6,
  //               9.75,
  //               9.75,
  //               9.9,
  //               9.9,
  //               10.05,
  //               10.05,
  //               10.2,
  //               10.2,
  //               10.35,
  //               10.35,
  //               10.5,
  //               10.5,
  //               10.65,
  //               10.65,
  //               10.8,
  //               10.8,
  //               10.95,
  //               10.95,
  //               11.1,
  //               11.1,
  //               11.25,
  //               11.25,
  //               11.4,
  //               11.4,
  //               11.55,
  //               11.55,
  //               11.7,
  //               11.7,
  //               11.85,
  //               11.85,
  //               12,
  //               12,
  //               12.15,
  //               12.15,
  //               12.3,
  //               12.3,
  //               12.45,
  //               12.45,
  //               12.6,
  //               12.6,
  //               12.75,
  //               12.75,
  //               12.9,
  //               12.9,
  //               13.05,
  //               13.05,
  //               13.2,
  //               13.2,
  //               13.35,
  //               13.35,
  //               13.5,
  //               13.5,
  //               13.65,
  //               13.65,
  //               13.8,
  //               13.8,
  //               13.95,
  //               13.95,
  //               14.1,
  //               14.1,
  //               14.25,
  //               14.25,
  //               14.4,
  //               14.4,
  //               14.55,
  //               14.55,
  //               14.7,
  //               14.7,
  //               14.85,
  //               14.85,
  //               15,
  //               15,
  //               15.15,
  //               15.15,
  //               15.3,
  //               15.3,
  //               15.45,
  //               15.45,
  //               15.6,
  //               15.6,
  //               15.75,
  //               15.75,
  //               15.9,
  //               15.9,
  //               16.05,
  //               16.05,
  //               16.2,
  //               16.2,
  //               16.35,
  //               16.35,
  //               16.5,
  //               16.5,
  //               16.65,
  //               16.65,
  //               16.8,
  //               16.8,
  //               16.95,
  //               16.95,
  //               17.1,
  //               17.1,
  //               17.25,
  //               17.25,
  //               17.4,
  //               17.4,
  //               17.55,
  //               17.55,
  //               17.7,
  //               17.7,
  //               17.85,
  //               17.85,
  //               18,
  //               18,
  //               18.15,
  //               18.15,
  //               18.3,
  //               18.3,
  //               18.45,
  //               18.45,
  //               18.6,
  //               18.6,
  //               18.75,
  //               18.75,
  //               18.9,
  //               18.9,
  //               19.05,
  //               19.05,
  //               19.2,
  //               19.2,
  //               19.35,
  //               19.35,
  //               19.5,
  //               19.5,
  //               19.65,
  //               19.65,
  //               19.8,
  //               19.8,
  //               19.95,
  //               19.95,
  //               20.1,
  //               20.1,
  //               20.25,
  //               20.25,
  //               20.4,
  //               20.4,
  //               20.55,
  //               20.55,
  //               20.7,
  //               20.7,
  //               20.85,
  //               20.85,
  //               21,
  //               21,
  //               21.15,
  //               21.15,
  //               21.3,
  //               21.3,
  //               21.45,
  //               21.45,
  //               21.6,
  //               21.6,
  //               21.75,
  //               21.75,
  //               21.9,
  //               21.9,
  //               22.05,
  //               22.05,
  //               22.2,
  //               22.2,
  //               22.35,
  //               22.35,
  //               22.5,
  //               22.5,
  //               22.65,
  //               22.65,
  //               22.8,
  //               22.8,
  //               22.95,
  //               22.95,
  //               23.1,
  //               23.1,
  //               23.25,
  //               23.25,
  //               23.4,
  //               23.4,
  //               23.55,
  //               23.55,
  //               23.7,
  //               23.7,
  //               23.85,
  //               23.85,
  //               24,
  //               24,
  //               24.15,
  //               24.15,
  //               24.3,
  //               24.3,
  //               24.45,
  //               24.45,
  //               24.6,
  //               24.6,
  //               24.75,
  //               24.75,
  //               24.9,
  //               24.9,
  //               25.05,
  //               25.05,
  //               25.2,
  //               25.2,
  //               25.35,
  //               25.35,
  //               25.5,
  //               25.5,
  //               25.65,
  //               25.65,
  //               25.8,
  //               25.8,
  //               25.95,
  //               25.95,
  //               26.1,
  //               26.1,
  //               26.25,
  //               26.25,
  //               26.4,
  //               26.4,
  //               26.55,
  //               26.55,
  //               26.7,
  //               26.7,
  //               26.85,
  //               26.85,
  //               27,
  //               27,
  //               27.15,
  //               27.15,
  //               27.3,
  //               27.3,
  //               27.45,
  //               27.45,
  //               27.6,
  //               27.6,
  //               27.75,
  //               27.75,
  //               27.9,
  //               27.9,
  //               28.05,
  //               28.05,
  //               28.2,
  //               28.2,
  //               28.35,
  //               28.35,
  //               28.5,
  //               28.5,
  //               28.65,
  //               28.65,
  //               28.8,
  //               28.8,
  //               28.95,
  //               28.95,
  //               29.1,
  //               29.1,
  //               29.25,
  //               29.25,
  //               29.4,
  //               29.4,
  //               29.55,
  //               29.55,
  //               29.7,
  //               29.7,
  //               29.85,
  //               29.85,
  //               30,
  //               30,
  //               30.15,
  //               30.15,
  //               30.3,
  //               30.3,
  //               30.45,
  //               30.45,
  //               30.6,
  //               30.6,
  //               30.75,
  //               30.75,
  //               30.9,
  //               30.9,
  //               31.05,
  //               31.05,
  //               31.2,
  //               31.2,
  //               31.35,
  //               31.35,
  //               31.5,
  //               31.5,
  //               31.65,
  //               31.65,
  //               31.8,
  //               31.8,
  //               32,
  //               32,
  //               1.7976931348623157e+308
  //             ]
  //           }
  //         },
  //         createdAt: '2025-08-18T16:05:19.478Z',
  //         updatedAt: '2025-08-18T16:05:19.478Z',
  //         __typename: 'ColorMap'
  //       }
  //     ]
  //   }
  // }

  const colormapMock2 = {
    data: {
      colormaps: [
        {
          id: 1,
          url: 'https://gibs.earthdata.nasa.gov/colormaps/v1.3/GHRSST_L4_MUR_Sea_Ice_Concentration.xml',
          product: 'GHRSST_L4_MUR_Sea_Ice_Concentration',
          jsonData: seaIceConcentrationColormapBody
        },
        {
          id: 2,
          url: 'https://gibs.earthdata.nasa.gov/colormaps/v1.3/GHRSST_L4_MUR_Sea_Surface_Temperature.xml',
          product: 'GHRSST_L4_MUR_Sea_Surface_Temperature',
          jsonData: seaSurfaceTemperatureColormapBody
        },
        {
          id: 3,
          url: 'https://gibs.earthdata.nasa.gov/colormaps/v1.3/GHRSST_L4_MUR_Sea_Surface_Temperature_Anomalies.xml',
          product: 'GHRSST_L4_MUR_Sea_Surface_Temperature_Anomalies',
          jsonData: seaSurfaceTemperatureAnomaliesColormapBody
        },
        {
          id: 4,
          url: 'https://gibs.earthdata.nasa.gov/colormaps/v1.3/AIRS_Prata_SO2_Index_Day.xml',
          product: 'AIRS_Prata_SO2_Index_Day',
          jsonData: airsPrataSo2IndexDayColormapBody
        },
        {
          id: 5,
          url: 'https://gibs.earthdata.nasa.gov/colormaps/v1.3/AIRS_Prata_SO2_Index_Night.xml',
          product: 'AIRS_Prata_SO2_Index_Night',
          jsonData: airsPrataSo2IndexNightColormapBody
        }
      ]
    }
  }
  test.describe('When viewing granules with colormap data', () => {
    test.beforeEach(async ({ page }) => {
      const conceptIdOne = 'C1996881146-POCLOUD'
      const conceptIdTwo = 'C1243477369-GES_DISC'

      await interceptUnauthenticatedCollections({
        page,
        body: colormapCollectionsBody,
        headers: commonHeaders
      })

      await page.route(/search\/granules.json/, async (route) => {
        const query = route.request().postData()

        if (query === `echo_collection_id=${conceptIdOne}&page_num=1&page_size=20&sort_key=-start_date`) {
          await route.fulfill({
            json: colormapGranulesOneBody,
            headers: colormapGranulesHeaders
          })
        }

        if (query === `echo_collection_id=${conceptIdTwo}&page_num=1&page_size=20&sort_key=-start_date`) {
          await route.fulfill({
            json: colormapGranulesTwoBody,
            headers: colormapGranulesHeaders
          })
        }
      })

      await page.route(/api$/, async (route) => {
        if (isGetCollectionQuery(route, conceptIdOne)) {
          await route.fulfill({
            json: colormapCollectionOneGraphQlBody,
            headers: colormapCollectionGraphQlHeaders
          })
        }

        if (isGetCollectionQuery(route, conceptIdTwo)) {
          await route.fulfill({
            json: colormapCollectionTwoGraphQlBody,
            headers: colormapCollectionGraphQlHeaders
          })
        }
      })

      await page.route(/autocomplete$/, async (route) => {
        await route.fulfill({
          json: { feed: { entry: [] } }
        })
      })

      const MockColorMapRoute = async (route) => route.fulfill({
        json: colormapMock2
      })

      await page.route(/graphql$/, async (route) => {
        const { query } = JSON.parse(route.request().postData())

        console.log('🚀 ~ file: map_granules_colormaps.spec.js:90 ~ query:', query)

        if (query.includes('GetColorMaps')) {
          console.log('we are in the query')
          await MockColorMapRoute(route)
        }
      })

      // Await page.route(/colormaps\/GHRSST_L4_MUR_Sea_Ice_Concentration/, async (route) => {
      //   await route.fulfill({
      //     json: seaIceConcentrationColormapBody
      //   })
      // })

      // await page.route(/colormaps\/GHRSST_L4_MUR_Sea_Surface_Temperature/, async (route) => {
      //   await route.fulfill({
      //     json: seaSurfaceTemperatureColormapBody
      //   })
      // })

      // await page.route(/colormaps\/GHRSST_L4_MUR_Sea_Surface_Temperature_Anomalies/, async (route) => {
      //   await route.fulfill({
      //     json: seaSurfaceTemperatureAnomaliesColormapBody
      //   })
      // })

      // await page.route(/colormaps\/AIRS_Prata_SO2_Index_Day/, async (route) => {
      //   await route.fulfill({
      //     json: airsPrataSo2IndexDayColormapBody
      //   })
      // })

      // await page.route(/colormaps\/AIRS_Prata_SO2_Index_Night/, async (route) => {
      //   await route.fulfill({
      //     json: airsPrataSo2IndexNightColormapBody
      //   })
      // })

      const initialMapPromise = page.waitForResponse(/World_Imagery\/MapServer\/tile\/2/)
      await page.goto('search/granules?p=C1996881146-POCLOUD')

      // Wait for the map to load
      await initialMapPromise

      // Wait for the timeline to be visible
      await page.getByRole('button', { name: 'Hide Timeline' }).waitFor()
    })

    test('displays the color map on the page @screenshot', async ({ page }) => {
      const legend = page.getByTestId('legend')
      await legend.scrollIntoViewIfNeeded()
      // Await legend.scrollIntoViewIfNeeded()

      // Retrieve the colormaps for each layer and ensure they match the screenshot
      const firstCanvas = legend.locator('canvas').nth(0)
      await expect(firstCanvas).toHaveScreenshot('sea-ice-concentration-colormap.png', {
        maxDiffPixelRatio: 0.01
      })

      const secondCanvas = legend.locator('canvas').nth(1)
      await expect(secondCanvas).toHaveScreenshot('sea-surface-temperature-colormap.png', {
        maxDiffPixelRatio: 0.01
      })

      const thirdCanvas = legend.locator('canvas').nth(2)
      await expect(thirdCanvas).toHaveScreenshot('sea-surface-temperature-anomalies-colormap.png', {
        maxDiffPixelRatio: 0.01
      })

      await expect(page.getByTestId('legend-label-min').first()).toHaveText('0 – 1 %')
      await expect(page.getByTestId('legend-label-max').first()).toHaveText('100 %')
    })

    test.describe('when hovering over the colormap', () => {
      test('displays color map data to the user', async ({ page }) => {
        // Hover over the middle of the colorbar
        await page.locator('.colormap__bar').first().hover()

        await expect(page.getByTestId('legend-label')).toHaveText('50 – 51 %')
      })
    })

    test.describe('when returning to the search results page', () => {
      test.beforeEach(async ({ page }) => {
        await page.getByRole('button', {
          name: 'Search Results (8,098 Collections)'
        })
          .first()
          .click()
      })

      test('does not show the colormap', async ({ page }) => {
        await expect(page.getByText('Visualization Layers')).not.toBeInViewport()
      })

      test.describe('when visiting another collection with a colormap', () => {
        test('displays a new colormap @screenshot', async ({ page }) => {
          await page.getByTestId('collection-result-item_C1243477369-GES_DISC').click()
          // Wait for the timeline to be visible as a proxy for the map being ready
          await page.getByRole('button', { name: 'Hide Timeline' }).waitFor()

          const legend = page.getByTestId('legend')

          const firstCanvas = legend.locator('canvas').nth(0)
          await expect(firstCanvas).toHaveScreenshot('sulfur-dioxide-day-colormap.png', {
            maxDiffPixelRatio: 0.01
          })

          const secondCanvas = legend.locator('canvas').nth(1)
          await expect(secondCanvas).toHaveScreenshot('sulfur-dioxide-night-colormap.png', {
            maxDiffPixelRatio: 0.01
          })

          await expect(page.getByTestId('legend-label-min').first()).toHaveText('0.00 – 0.12 DU')
          await expect(page.getByTestId('legend-label-max').first()).toHaveText('500.00 DU')
        })
      })
    })

    test.describe('when switching the projection', () => {
      test.beforeEach(async ({ page }) => {
        await page.getByLabel('North Polar Stereographic').click()
      })

      test('does not show the colormap', async ({ page }) => {
        // The legend/Layer Picker should be removed if the imagery layers are empty
        // and the legend control is not on the collection focused page
        await expect(page.getByText('Visualization Layers')).not.toBeInViewport()
      })

      test.describe('when switching back to the geographic projection', () => {
        test.beforeEach(async ({ page }) => {
          await page.getByLabel('Geographic (Equirectangular)').click()
        })

        test('displays the colormap', async ({ page }) => {
          await expect(page.getByTestId('legend')).toBeInViewport()
        })
      })
    })
  })
})
